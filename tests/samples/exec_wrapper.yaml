---

steps:
  - workflow: execflow.exec_wrapper
    inputs:
      files:
        bcin:
          filename: "bc.in"
          template: "__DIR__/bc.template"
          parameters:
            a: 3
            b: 4
      command: "bc"
      arguments:
        - "bc.in"
      shelljob:
        metadata:
          options:
            resources:
              num_mpiprocs_per_machine: 14
              num_machines: 1
            withmpi: true
    postprocess:
      - "{{ ctx.current.outputs['stdout']|to_results('stdout') }}"
      - "{{ ctx.current.outputs['stderr']|to_results('stderr') }}"
